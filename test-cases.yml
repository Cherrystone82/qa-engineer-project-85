- summary: |
    Успешная авторизация с корректными данными после перехода со страницы
  requirement: |
    При правильном логине и пароле пользователь должен войти в систему, а переход на страницу авторизации с главной должен работать корректно
  prerequisites: |
    Пользователь находится на главной странице (https://codebattle.hexlet.io/)
  test-data: |
    Логин = user1@example.com  
    Пароль = securepassword123
  steps:
    - action: Открыть главную страницу https://codebattle.hexlet.io/
    - action: Нажать кнопку Sign in
    - action: Ввести user@example.com в поле Email или логин
    - action: Ввести securepassword123 в поле Пароль
    - action: Нажать кнопку Submit
  expected-result: |
    Пользователь успешно авторизован и перенаправлен на страницу лобби
    
- summary: |
    Неудачная авторизация с неверным паролем
  requirement: |
    Система должна отображать ошибку при вводе неправильного пароля
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    Логин = user2@example.com  
    Пароль = wrongpass
  steps:
    - Перейти на https://codebattle.hexlet.io/ 
    - Ввести user@example.com в поле Email или логин
    - Ввести wrongpass в поле Пароль
    - Нажать кнопку Войти
  expected-result: |
    Отображается сообщение: Неверный логин или пароль

- summary: |
    Неудачная авторизация с пустым полем логина
  requirement: |
    Система должна предупредить о том, что поле логина не может быть пустым
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    Логин = <пусто>  
    Пароль = password
  steps:
    - Перейти на https://codebattle.hexlet.io/ 
    - Оставить поле Email или Логин пустым
    - Ввести Password в поле Пароль
    - Нажать кнопку Войти
  expected-result: |
    Отображается сообщение: Логин не может быть пустым

- summary: |
    Неудачная авторизация с пустым полем пароля
  requirement: |
    Система должна предупредить о том, что поле пароля не может быть пустым
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    Логин = user3@example.com  
    Пароль = <пусто>
  steps:
    - Перейти на https://codebattle.hexlet.io/ 
    - Ввести user@example.com в поле Email или логин
    - Оставить поле Пароль пустым
    - Нажать кнопку Войти
  expected-result: |
    Отображается сообщение: Пароль не может быть пустым

- summary: |
    Проверка авторизации через GitHub
  requirement: |
    Система должна предоставлять вход через OAuth-интеграцию с GitHub
  prerequisites: |
    Открыта главная страница
    Аккаунт GitHub существует и не заблокирован
  test-data: |
    Валидные учетные данные GitHub
  steps:
    - Нажать Sign in with GitHub
    - Ввести логин/пароль GitHub (если не авторизованы)
    - Подтвердить разрешения для Codebattle
  expected-result: |
    Перенаправление на /games
    В хедере отображается аватар пользователя
    Кнопка входа заменена на меню профиля

- summary: |
    Успешная регистрация нового пользователя
  requirement: |
    Новый пользователь может зарегистрироваться, указав email и пароль
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    Email = newuser@example.com  
    Пароль = mynewpassword123
  steps:
    - Перейти на https://codebattle.hexlet.io/ 
    - Нажать ссылку Регистрация
    - Ввести newuser@example.com в поле Email
    - Ввести mynewpassword123 в поле Пароль
    - Нажать кнопку Зарегистрироваться
  expected-result: |
    Пользователь успешно зарегистрирован и перенаправлен на страницу лобби

- summary: |
    Попытка регистрации с уже существующим email
  requirement: |
    Система должна отклонить регистрацию при использовании занятого email
  prerequisites: |
    - Пользователь находится на главной странице https://codebattle.hexlet.io/
    - Аккаунт с email existing@example.com уже существует
  test-data: |
    - Email: existing@example.com
    - Пароль: anotherpassword
  steps:
    - Открыть главную страницу https://codebattle.hexlet.io/
    - Нажать кнопку 'Sign up'
    - Ввести existing@example.com в поле 'Email'
    - Ввести anotherpassword в поле 'Password'
    - Нажать кнопку 'Sign up'
  expected-result: |
    - Отображается сообщение об ошибке "Email is already taken"
    - Пользователь остается на странице регистрации
    - Новый аккаунт не создается

- summary: |
    Восстановление пароля через email
  requirement: |
    Пользователь может запросить восстановление пароля по email
  prerequisites: |
    Открыта страница восстановления пароля
  test-data: |
    Email = user@example.com
  steps:
    - Перейти на https://codebattle.hexlet.io/ 
    - Нажать Забыли пароль?
    - Ввести user4@example.com в поле Email
    - Нажать Отправить инструкции
  expected-result: |
    Отображается сообщение: Инструкция отправлена на ваш email

- summary: |
    Не удачная попытка восстановление пароля с несуществующим email
  requirement: |
    Система должна обработать запрос даже с несуществующим email без утечки информации
  prerequisites: |
    Открыта страница восстановления пароля
  test-data: |
    Email = fakeemail@example.com
  steps:
    - Перейти на https://codebattle.hexlet.io/ 
    - Нажать Забыли пароль?
    - Ввести fakeemail@example.com в поле Email
    - Нажать Отправить инструкции
  expected-result: |
    Отображается сообщение: Инструкция отправлена на ваш email

- summary: |
    Корректный выход из аккаунта
  requirement: |
    Пользователь может разлогиниться
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Активная сессия
  steps:
    - Перейти в меню пользователя
    - Нажать Logout
  expected-result: |
    Пользователь перенаправлен на страницу входа
    
- summary: |
    Выбор языка программирования
  requirement: |
    Пользователь может выбрать язык программирования перед началом боя
  prerequisites: |
    Пользователь авторизован и находится на странице лобби
  test-data: |
    Выбранный язык = Python
  steps:
    - Перейти на https://codebattle.hexlet.io/lobby 
    - Нажать на кнопку Python
  expected-result: |
    Язык Python выделен, можно начать бой

- summary: |
    Просмотр профиля пользователя
  requirement: |
    Авторизованный пользователь может просматривать свой профиль
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Пользователь = user1@example.com
  steps:
    - Перейти в меню пользователя
    - Нажать Профиль
  expected-result: |
    Отображается информация о пользователе: никнейм, количество побед, уровень

- summary: |
    Просмотр истории боёв
  requirement: |
    Пользователь может просмотреть историю своих боёв
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Пользователь имеет минимум один бой в истории
  steps:
    - Перейти в меню пользователя
    - Нажать STATISTICS
  expected-result: |
    Отображается список прошлых боёв с результатами

- summary: |
    Начало боя с другим игроком (публичный бой)
  requirement: |
    Пользователь может начать бой с другим игроком
  prerequisites: |
    Пользователь авторизован и находится на странице лобби
  test-data: |
    Выбранный язык = Python
  steps:
    - Перейти на https://codebattle.hexlet.io/lobby 
    - Выбрать язык программирования Python
    - Нажать кнопку Play with another player
    - Дождаться подключения другого игрока
  expected-result: |
    Бой начинается, отображается задача, доступно поле редактирования кода

- summary: |
    Создание приватного боя через прямую ссылку
  requirement: |
    Авторизованный пользователь может создать приватную комнату через URL
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Прямая ссылка https://codebattle.hexlet.io/private_battle/new 
  steps:
    - Открыть браузер
    - В адресной строке ввести https://codebattle.hexlet.io/private_battle/new 
    - Нажать Enter
  expected-result: |
    Система перенаправляет на страницу вида /private_battle/ABC123 и отображает код комнаты

- summary: |
    Присоединение к приватному бою по коду
  requirement: |
    Второй пользователь может присоединиться к приватной комнате по коду
  prerequisites: |
    Пользователь знает код приватной комнаты
  test-data: |
    Код комнаты = ABC123
  steps:
    - Открыть браузер
    - В адресной строке ввести https://codebattle.hexlet.io/private_battle/join?code=ABC123
    - Нажать Enter
  expected-result: |
    Пользователь успешно подключён к комнате и видит экран ожидания

- summary: |
    Неверный код при попытке присоединения к приватному бою
  requirement: |
    Система должна сообщить об ошибке, если указан неверный код комнаты
  prerequisites: |
    Пользователь пытается присоединиться к несуществующей комнате
  test-data: |
    Код комнаты = BADCODE
  steps:
    - Открыть браузер
    - В адресной строке ввести https://codebattle.hexlet.io/private_battle/join?code=BADCODE
    - Нажать Enter
  expected-result: |
    Отображается сообщение: Комната с таким кодом не найдена

- summary: |
    Проверка возможности начала боя после подключения обоих игроков
  requirement: |
    Когда оба игрока подключены к приватной комнате, бой должен начаться автоматически
  prerequisites: |
    Оба игрока подключены к одной и той же комнате
  test-data: |
    Код комнаты = ABC123
  steps:
    - Игрок один, заходит в комнату через https://codebattle.hexlet.io/private_battle/ABC123
    - Игрок два, заходит через https://codebattle.hexlet.io/private_battle/join?code=ABC123
  expected-result: |
    После подключения второго игрока бой начинается, отображается задача

- summary: |
    Проверка пагинации в лобби
  requirement: |
    При большом количестве игр должна работать постраничная навигация
  prerequisites: |
    В системе более 10 активных игр
  test-data: |
    Активные игры: 25
  steps:
    - Прокрутить список игр вниз
    - Нажать Next Page
  expected-result: |
    Загружается следующая страница с играми
    Сохраняются примененные фильтры
    Активная страница выделяется в пагинаторе

- summary: |
    Проверка возможности переключения языка интерфейса с английского на русский и обратно
  requirement: |
    Пользователь должен иметь возможность изменить язык интерфейса. После переключения все элементы интерфейса должны отображаться на выбранном языке.
  prerequisites: |
    Открыта главная страница Codebattle 
    Язык интерфейса установлен по умолчанию английский
  test-data: |
    Доступные языки:
    - Английский
    - Русский
  steps:
    - Найти и кликнуть на переключатель языка (иконка флага/выпадающий список)
    - Выбрать язык Русский
    - Проверить изменение текста интерфейса (например, кнопка Login → Войти)
    - Переключить язык обратно на английский
    - Убедиться, что интерфейс вернулся к английскому языку
  expected-result: |
    После выбора русского языка интерфейс переключается на русский (кнопки, меню и другие элементы изменяются соответствующим образом)
    При возврате на английский язык интерфейс корректно отображается на английском
    Никакие функциональные элементы не ломаются при переключении языка
